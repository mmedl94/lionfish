<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>General interactivity • lionfish</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="General interactivity">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lionfish</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/General-interactivity.html">General interactivity</a></li>
    <li><a class="dropdown-item" href="../articles/Plot-objects.html">Plot objects</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>General interactivity</h1>
            
      

      <div class="d-none name"><code>General-interactivity.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The lionfish package offers multiple different types of general
interactivity. The following operations can be performed with the
elements on the frame on the left.</p>
<ul>
<li>Feature selection</li>
<li>Subset selection and highlighting</li>
<li>Resetting to the original subsets</li>
<li>Updating the current display</li>
<li>Animating the currently loaded tours</li>
<li>Saving the projections and subsets</li>
<li>Initiating new tours</li>
</ul>
<p>Examples for all displays can be found below.</p>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ggobi/tourr" class="external-link">tourr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/" class="external-link">reticulate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mmedl94.github.io/lionfish/">lionfish</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initialize python backend</span></span>
<span><span class="fu"><a href="../reference/init_env.html">init_env</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="dataset---flea-data">Dataset - Flea data<a class="anchor" aria-label="anchor" href="#dataset---flea-data"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"flea"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">flea</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, <span class="fl">2</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">(</span><span class="va">x</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">clusters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">flea</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="va">flea_subspecies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">flea</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span></span>
<span><span class="va">guided_tour_history</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tourr/man/save_history.html" class="external-link">save_history</a></span><span class="op">(</span><span class="va">data</span>,</span>
<span>                                    tour_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/tourr/man/guided_tour.html" class="external-link">guided_tour</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/tourr/man/holes.html" class="external-link">holes</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">grand_tour_history_1d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tourr/man/save_history.html" class="external-link">save_history</a></span><span class="op">(</span><span class="va">data</span>,</span>
<span>                                      tour_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/tourr/man/grand_tour.html" class="external-link">grand_tour</a></span><span class="op">(</span>d<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">half_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">data</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">feature_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/init_env.html">init_env</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">obj1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"2d_tour"</span>, obj <span class="op">=</span> <span class="va">guided_tour_history</span><span class="op">)</span></span>
<span><span class="va">obj2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"1d_tour"</span>, obj <span class="op">=</span> <span class="va">grand_tour_history_1d</span><span class="op">)</span></span>
<span><span class="va">obj3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"scatter"</span>, obj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tars1"</span>, <span class="st">"tars2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">obj4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"hist"</span>, obj <span class="op">=</span> <span class="st">"head"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/interactive_tour.html">interactive_tour</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">data</span>,</span>
<span>                 plot_objects<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">obj1</span>, <span class="va">obj2</span>, <span class="va">obj3</span>, <span class="va">obj4</span><span class="op">)</span>,</span>
<span>                 feature_names<span class="op">=</span><span class="va">feature_names</span>,</span>
<span>                 half_range <span class="op">=</span> <span class="va">half_range</span>,</span>
<span>                 n_plot_cols<span class="op">=</span><span class="fl">2</span>,</span>
<span>                 preselection<span class="op">=</span><span class="va">clusters</span>,</span>
<span>                 preselection_names<span class="op">=</span><span class="va">flea_subspecies</span>,</span>
<span>                 n_subsets <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                 display_size<span class="op">=</span><span class="fl">4.5</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="currently-supported-general-interactivity">Currently supported general interactivity<a class="anchor" aria-label="anchor" href="#currently-supported-general-interactivity"></a>
</h2>
<div class="section level3">
<h3 id="feature-selection">Feature selection<a class="anchor" aria-label="anchor" href="#feature-selection"></a>
</h3>
<p>A list of all features can be found on the top left. Each feature has
a checkbox next to it. The features are selected or deselected by
checking or unchecking the respective checkboxes.</p>
<div class="float">
<img src="../reference/figures/feature_selection_demo.gif" alt="Feature selection demo"><div class="figcaption">Feature selection demo</div>
</div>
</div>
<div class="section level3">
<h3 id="subset-selection-and-highlighting">Subset selection and highlighting<a class="anchor" aria-label="anchor" href="#subset-selection-and-highlighting"></a>
</h3>
<p>A list of all subsets can be found below the features. Each subset
has a checkbox next to it. The subsets are selected checking respective
checkboxes next to them. When a subset is active, all datapoints that
are selected with one of the interactive plots will be moved to that
subset. The colored patches next to the subsets indicate the color of
the datapoints within the respective subset. The transparency of the
datapoints of the subsets can be changed by clicking the colored patches
next to the subset names. The names of the subsets can be changed by
writing in the textboxes.</p>
<div class="float">
<img src="../reference/figures/subset_selection_demo.gif" alt="Subset selection and highlighting demo"><div class="figcaption">Subset selection and highlighting demo</div>
</div>
</div>
<div class="section level3">
<h3 id="resetting-to-theoriginal-subsets">Resetting to theoriginal subsets<a class="anchor" aria-label="anchor" href="#resetting-to-theoriginal-subsets"></a>
</h3>
<p>The current subset selection can easily be reset by clicking the
“Reset original selection” button.</p>
<div class="float">
<img src="../reference/figures/reset_selection_demo.gif" alt="Subset resetting demo"><div class="figcaption">Subset resetting demo</div>
</div>
</div>
<div class="section level3">
<h3 id="updating-the-current-display">Updating the current display<a class="anchor" aria-label="anchor" href="#updating-the-current-display"></a>
</h3>
<p>The current display can be updated by clicking the “Update frames”
button. This can be useful if some of the plots haven’t updated
properly, one wants to reset the shown projections to the original
projections or if one wants to jump to a specific frame that was
selected in the texboxes above the button.</p>
<div class="float">
<img src="../reference/figures/update_frames_demo.gif" alt="Update frames demo"><div class="figcaption">Update frames demo</div>
</div>
</div>
<div class="section level3">
<h3 id="animating-the-currently-loaded-tours">Animating the currently loaded tours<a class="anchor" aria-label="anchor" href="#animating-the-currently-loaded-tours"></a>
</h3>
<p>The currently loaded tours can be animated by checking the checkbox
below the “Update frames” button. The interval in which the next frames
will be loaded can be changed in the textbox next to the checkbox.</p>
<div class="float">
<img src="../reference/figures/animate_frames_demo.gif" alt="Update frames demo"><div class="figcaption">Update frames demo</div>
</div>
</div>
<div class="section level3">
<h3 id="saving-the-projections-and-subsets">Saving the projections and subsets<a class="anchor" aria-label="anchor" href="#saving-the-projections-and-subsets"></a>
</h3>
<p>The currently displayed projections and subsets can be saved as .csv
by clicking the “Save projections and subsets” button. This will produce
a file browser with which one can choose the directory for the files to
be saved in. The saved files are</p>
<ul>
<li>a .png file of the figure</li>
<li>a .csv file that maps the indices of the datapoints to the
subsets</li>
<li>.csv files with the projection matrices of all displayed tours</li>
</ul>
<div class="float">
<img src="../reference/figures/save_demo.gif" alt="Save projections and subsets demo"><div class="figcaption">Save projections and subsets demo</div>
</div>
</div>
<div class="section level3">
<h3 id="initiating-new-tours">Initiating new tours<a class="anchor" aria-label="anchor" href="#initiating-new-tours"></a>
</h3>
<p>New tours can be initiated by first choosing what tour one wants to
compute and then pressing “Run tour”. Currently, local tours and guided
tours with the indices <a href="https://ggobi.github.io/tourr/reference/holes.html" class="external-link">holes</a> and
<a href="https://ggobi.github.io/tourr/reference/lda_pp.html" class="external-link">LDA</a>
are available. Local tours will be initiated with the currently
displayed projections. They can therefore be used to further explore
projections similar to the displayed one. By pressing “Reset original
tour” one can return to the originally loaded tours.</p>
<div class="float">
<img src="../reference/figures/initiate_tours_demo.gif" alt="Save projections and subsets demo"><div class="figcaption">Save projections and subsets demo</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthias Medl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
